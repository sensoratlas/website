!function(o){"use strict";o.HSCore.components.HSChartPie={_baseConfig:{bounds:-100,debounce:10,rtl:!1,wrpClass:"circles-wrp",textClass:"circles-text",valueStrokeClass:"circles-valueStroke",maxValueStrokeClass:"circles-maxValueStroke",styleWrapper:!0,styleText:!0},pageCollection:o(),appearCollectionIds:[],init:function(e,t){if(this.collection=e&&o(e).length?o(e):o(),o(e).length)return this.config=t&&o.isPlainObject(t)?o.extend({},this._baseConfig,t):this._baseConfig,this.config.itemSelector=e,this.initCircles(),this.pageCollection},initCircles:function(){var e=this.pageCollection.last(),n=0,s=this;e.length&&(n=+e.attr("id").substring(e.attr("id").lastIndexOf("-")+1)),this.collection.each(function(e,t){var i=o(t),l="hs-pie-"+(n+(e+1)),a=0;i.attr("id",l),i.data("circles-scroll-animate")?(i.data("reminded-value",i.data("circles-value")||0),s.appearCollectionIds.push("#"+l)):a=i.data("circles-value")||0;var c=Circles.create({id:l,radius:i.data("circles-radius")||80,value:a,maxValue:i.data("circles-max-value")||100,width:i.data("circles-stroke-width")||10,text:function(e){return"iconic"==i.data("circles-type")?i.data("circles-icon"):e+(i.data("circles-additional-text")||"")},colors:[i.data("circles-bg-color")||"#72c02c",i.data("circles-fg-color")||"#eeeeee"],duration:i.data("circles-duration")||1e3,wrpClass:s.config.wrpClass,textClass:s.config.textClass,valueStrokeClass:s.config.valueStrokeClass,maxValueStrokeClass:s.config.maxValueStrokeClass,styleWrapper:s.config.styleWrapper,styleText:s.config.styleText});i.data("circle",c),i.find("."+s.config.textClass).css({"font-size":i.data("circles-font-size"),"font-weight":i.data("circles-font-weight"),color:i.data("circles-color")}),s.config.rtl&&i.find("svg").css("transform","matrix(-1, 0, 0, 1, 0, 0)"),s.pageCollection=s.pageCollection.add(i)}),s.appearCollectionIds.length&&s._initAppear()},_initAppear:function(){var e=this;appear({bounds:e.config.bounds,debounce:e.config.debounce,elements:function(){return document.querySelectorAll(e.appearCollectionIds.join(","))},appear:function(e){(e=o(e)).data("circle").update(e.data("reminded-value"))}})},get:function(e){return e&&o.isNumeric(e)?this.pageCollection.eq(e):this.pageCollection},getById:function(e){return e&&this.pageCollection.filter("#"+e).length?this.pageCollection.filter("#"+e):null},getCircleAPI:function(e){return e&&o.isNumeric(e)&&this.pageCollection.eq(e).length?this.pageCollection.eq(e).data("circle"):null},getCircleAPIById:function(e){return e&&this.pageCollection.filter("#"+e).length?this.pageCollection.filter("#"+e).data("circle"):null}}}(jQuery);